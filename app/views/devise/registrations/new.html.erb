<%= stylesheet_link_tag "loginFeatures"%>
<%=render "loginHeading"%>
<!-- HTML code for container of instruction  and form card -->
<div id="container" class='container'>
  <div id="instruction" class="card">
    <h2>Instructions</h2>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">This is the Registration Page for users</li>
      <li class="list-group-item">Select Your User Type Before Filling the form</li>
      <li class="list-group-item">A third item</li>
      <li class="list-group-item">A third item</li>
      <li class="list-group-item">A third item</li>
      <li class="list-group-item">A third item</li>
    </ul>
  </div>
  <div id="login">
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <h2>Registration</h2>
      <%= render "devise/shared/error_messages" , resource: resource %>

        <% if notice %>
          <%=render 'layoutalerts' %>
            <% end %>

              <%# <label for="u-type">Please select the type of user</label> %>

                <%# <select name="user-type" id="u-type" class="form-select" >
                  <option value="" selected>Type Of User</option>
                  <option value="stu">Student</option>
                  <option value="fac">Faculty</option>
                  <option value="ext">External</option>
                </select> %>

                 <!-- a new style of select tab -->

                <div class="input-group mb-3">
                  <label class="input-group-text" for="inputGroupSelect01">Type Of User</label>
                  <select class="form-select" id="u-type" aria-label="Default select example" required>
                    <option value="" selected >Choose...</option>
                    <option value="student">Student</option>
                    <option value="faculty">Faculty</option>
                    <option value="external">External</option>
                  </select>
                </div>


                <div class="mb-3 field" id="email-input">
                  <%= f.label :email ,for:"exampleInputEmail1", class:"form-label"%>
                  <%= f.email_field :email, autofocus: true, autocomplete: "email" ,class:"form-control",
                  id:"exampleInputEmail1" ,placeholder:"Enter Your Email Address"%>
                  <%# <label for="exampleInputEmail1" class="form-label">Email address</label>
                  <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                  required placeholder="Enter Your Email Address"> %>
                  <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
                </div>

                <div class="mb-3 field" id="in-pass">
                  <%= f.label :password ,for:"exampleInputPassword1" ,class:"form-label"%>

                    <%# <label for="exampleInputPassword1" class="form-label">Password</label> %>
                      <%= f.password_field :password, autocomplete: "new-password" , class:"form-control",
                        id:"exampleInputPassword1", placeholder:"Create Password (6 characters minimum)"%>
                        <%# <input type="password" class="form-control" id="exampleInputPassword1"
                          placeholder="Create Password"> %>
                </div>

                <div class="mb-3 field" id="conf-pass">
                  <%= f.label :password_confirmation , for:"exampleInputPassword1", class:"form-label"%>
                    <%= f.password_field :password_confirmation, autocomplete: "new-password" ,class:"form-control",
                      id:"exampleInputPassword2", placeholder:"Confirm Password"%>
                      <%# <label for="exampleInputPassword1" class="form-label">Confirm Password</label> %>
                        <%# <input type="password" class="form-control" id="exampleInputPassword1"
                          placeholder="Confirm Password"> %>
                </div>

                <div class="input-group mb-3" id="name-input">
                  <span class="input-group-text">First and last name</span>
                  <input type="text" aria-label="First name" class="form-control">
                  <input type="text" aria-label="Last name" class="form-control">
                </div>

                <div class="input-group mb-3" id="contact-input">
                  <span class="input-group-text">Contact Number</span>
                  <input type="text" aria-label="First name" class="form-control">
                </div>

                <div class="input-group mb-3" id="department-input">
                  <label class="input-group-text" for="inputGroupSelect01">Department</label>
                  <select class="form-select" aria-label="Default select example">
                    <option selected>Choose</option>
                    <option value="chem-engg">Chemical Engineering</option>
                    <option value="chem">Chemistry</option>
                    <option value="civ">Civil</option>
                    <!-- <option value="cse">Computer Science & Engineering</option> -->
                    <!-- <option value="eee">Electrical & Electronics Engineering</option> -->
                    <!-- <option value="it">Information Technology</option> -->
                    <!-- <option value="macs">Mathematical & Computational Sciences</option> -->
                    <option value="mech">Mechanical Engineering </option>
                    <option value="meta">Metallurgical & Materials Engineering</option>
                    <option value="mine">Mining Engineering</option>
                    <option value="phy">Physics</option>
                    <option value="wo">Water Reources & Ocean Engineering</option>
                  </select>
                </div>

                <div class="input-group mb-3" id="course-input">
                  <label class="input-group-text" for="inputGroupSelect01">Course</label>
                  <select class="form-select" aria-label="Default select example">
                    <option selected>Choose</option>
                    <option value="chem-engg">Chemical Engineering</option>
                    <option value="chem-engg">Chemical Engineering</option>
                    <option value="chem-engg">Chemical Engineering</option>
                  </select>
                </div>

                <div class="input-group mb-3" id="collegeid-input">
                  <span class="input-group-text">College ID</span>
                  <input type="file" aria-label="First name" class="form-control">
                </div>

                <div class="input-group mb-3" id="roll-input">
                  <span class="input-group-text">Roll Number</span>
                  <input type="text" aria-label="First name" class="form-control">
                </div>

                <div class="input-group mb-3" id="employeeid-input">
                  <span class="input-group-text">Employee ID</span>
                  <input type="text" aria-label="First name" class="form-control">
                </div>

                <div class="input-group mb-3" id="org-name-input">
                  <span class="input-group-text">Organization Name</span>
                  <input type="text" aria-label="First name" class="form-control">
                </div>

                <div class="input-group mb-3" id="org-add-input">
                  <span class="input-group-text">Organization Address</span>
                  <input type="text" aria-label="First name" class="form-control">
                </div>

                <div class="input-group mb-3" id="profession-input">
                  <span class="input-group-text">Profession</span>
                  <input type="text" aria-label="First name" class="form-control">
                </div>
                <div class="actions">
                  <%= f.submit "SignUp" ,class:"btn btn-primary" ,id:"sbt"%>
                </div>
                <span>Already have an account?</span>
                <%= render "devise/shared/links" , resource: resource %>
                <%# <button type="submit" class="btn btn-primary" id="sbt">Submit</button> %>
                  <%end%>
  </div>
</div>

<div id="about" class="container">

</div>

<!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->


<script src="" async defer></script>
<%#check the functionality of this script %>
   <%=render "footer" %>

  </body>

  <!-- JS to toggle elememts in the form as per the type of the user -->
  <script>
    let uType = document.getElementById("u-type");
    let emailInput = document.getElementById("email-input");
    let r = document.getElementById('exampleInputEmail1');
    let inPass = document.getElementById('in-pass');
    let confPass = document.getElementById('conf-pass');
    let nameInput = document.getElementById('name-input');
    let contactInput = document.getElementById('contact-input');
    let departmentInput = document.getElementById('department-input');
    let courseInput = document.getElementById('course-input');
    let collegeIdInput = document.getElementById('collegeid-input');
    let rollInput = document.getElementById('roll-input');
    let employeeIdInput = document.getElementById('employeeid-input');
    let orgNameInput = document.getElementById('org-name-input');
    let orgAddInput = document.getElementById('org-add-input');
    let professionInput = document.getElementById('profession-input');


    uType.addEventListener('click', () => {
      orgNameInput.classList.remove('vis')
      orgAddInput.classList.remove('vis');
      collegeIdInput.classList.remove('vis');
      professionInput.classList.remove('vis');
      employeeIdInput.classList.remove('vis');
      rollInput.classList.remove('vis');
      courseInput.classList.remove('vis');


      if (uType.value == 'student') {
        orgNameInput.classList.toggle('vis');
        orgAddInput.classList.toggle('vis');
        collegeIdInput.classList.toggle('vis');
        professionInput.classList.toggle('vis');
        employeeIdInput.classList.toggle('vis');
        r.removeAttribute('required');
      }
      if (uType.value == 'faculty') {
        courseInput.classList.toggle('vis');
        orgNameInput.classList.toggle('vis');
        orgAddInput.classList.toggle('vis');
        collegeIdInput.classList.toggle('vis');
        professionInput.classList.toggle('vis');
        rollInput.classList.toggle('vis');
        r.removeAttribute('required');
      }
      if (uType.value == 'external') {
        rollInput.classList.toggle('vis');
        employeeIdInput.classList.toggle('vis');
        r.removeAttribute('required');
      }



    })

  </script>
